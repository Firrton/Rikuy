import { NoEntityFoundError } from "../../query/errors";
import { entityFromRpcResult } from "../../utils/entities";
export async function getEntity(client, key) {
    const result = await client.request({
        method: "arkiv_query",
        params: [`$key = ${key}`],
    });
    console.debug("GetEntity result", result);
    if (!result.data) {
        throw new NoEntityFoundError();
    }
    return entityFromRpcResult(result.data[0]);
}
//# sourceMappingURL=getEntity.js.map
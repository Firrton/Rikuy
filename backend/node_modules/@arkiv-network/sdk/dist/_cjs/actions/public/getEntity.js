"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getEntity = getEntity;
const errors_1 = require("../../query/errors");
const entities_1 = require("../../utils/entities");
async function getEntity(client, key) {
    const result = await client.request({
        method: "arkiv_query",
        params: [`$key = ${key}`],
    });
    console.debug("GetEntity result", result);
    if (!result.data) {
        throw new errors_1.NoEntityFoundError();
    }
    return (0, entities_1.entityFromRpcResult)(result.data[0]);
}
//# sourceMappingURL=getEntity.js.map
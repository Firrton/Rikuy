"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.compress = compress;
exports.decompress = decompress;
const zstd_wasm_1 = require("@bokuweb/zstd-wasm");
let initialized = false;
async function compress(data) {
    if (!initialized) {
        await (0, zstd_wasm_1.init)();
        initialized = true;
    }
    console.debug(`Compressing data (size: ${data.length})`);
    const compressed = await (0, zstd_wasm_1.compress)(data);
    console.debug(`Compressed data (size: ${compressed.length})`);
    return new Uint8Array(compressed);
}
async function decompress(data) {
    if (!initialized) {
        await (0, zstd_wasm_1.init)();
        initialized = true;
    }
    return await (0, zstd_wasm_1.decompress)(data);
}
//# sourceMappingURL=compression.js.map